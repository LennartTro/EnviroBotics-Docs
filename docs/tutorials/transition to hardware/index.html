<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/transition to hardware" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Transition to Hardware | MIRMI - EnviroBotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lennarttro.github.io/EnviroBotics-Docs/img/envirobotics-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lennarttro.github.io/EnviroBotics-Docs/img/envirobotics-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lennarttro.github.io/EnviroBotics-Docs/docs/tutorials/transition to hardware"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Transition to Hardware | MIRMI - EnviroBotics"><meta data-rh="true" name="description" content="After testing and developing your BlueBoat controller in simulation, it’s time to bring your setup into the real world. This page walks you through the essential steps for running your controller node on real hardware, including how to connect to the vehicle, arm it, test the motors, and send waypoint commands."><meta data-rh="true" property="og:description" content="After testing and developing your BlueBoat controller in simulation, it’s time to bring your setup into the real world. This page walks you through the essential steps for running your controller node on real hardware, including how to connect to the vehicle, arm it, test the motors, and send waypoint commands."><link data-rh="true" rel="icon" href="/EnviroBotics-Docs/img/TUM_Logo.png"><link data-rh="true" rel="canonical" href="https://lennarttro.github.io/EnviroBotics-Docs/docs/tutorials/transition to hardware"><link data-rh="true" rel="alternate" href="https://lennarttro.github.io/EnviroBotics-Docs/docs/tutorials/transition to hardware" hreflang="en"><link data-rh="true" rel="alternate" href="https://lennarttro.github.io/EnviroBotics-Docs/docs/tutorials/transition to hardware" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Transition to Hardware","item":"https://lennarttro.github.io/EnviroBotics-Docs/docs/tutorials/transition to hardware"}]}</script><link rel="alternate" type="application/rss+xml" href="/EnviroBotics-Docs/blog/rss.xml" title="MIRMI - EnviroBotics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/EnviroBotics-Docs/blog/atom.xml" title="MIRMI - EnviroBotics Atom Feed"><link rel="stylesheet" href="/EnviroBotics-Docs/assets/css/styles.53f99b63.css">
<script src="/EnviroBotics-Docs/assets/js/runtime~main.a2aa3729.js" defer="defer"></script>
<script src="/EnviroBotics-Docs/assets/js/main.433f6a1d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/EnviroBotics-Docs/img/TUM_Logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/EnviroBotics-Docs/"><div class="navbar__logo"><img src="/EnviroBotics-Docs/img/TUM_Logo.png" alt="EnviroBotics Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/EnviroBotics-Docs/img/TUM_Logo.png" alt="EnviroBotics Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MIRMI - EnviroBotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/EnviroBotics-Docs/docs/overview and concept/overview">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/lennarttro/EnviroBotics-Docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/EnviroBotics-Docs/docs/overview and concept/overview">Overview and Concept</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/EnviroBotics-Docs/docs/workflow/">Project Workflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/EnviroBotics-Docs/docs/installation/Install Ubuntu">Installation and Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/EnviroBotics-Docs/docs/hardware/hardware-setup">Hardware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/EnviroBotics-Docs/docs/tutorials/getting-started">Tutorials and Resources</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EnviroBotics-Docs/docs/tutorials/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EnviroBotics-Docs/docs/tutorials/start simulation">Starting simulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EnviroBotics-Docs/docs/tutorials/build ROS nodes">Build your own ROS nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EnviroBotics-Docs/docs/tutorials/controller node">Adjust you controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EnviroBotics-Docs/docs/tutorials/planner node">Creating a BlueBoat Planner Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/EnviroBotics-Docs/docs/tutorials/transition to hardware">Transition to Hardware</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/EnviroBotics-Docs/docs/troubleshooting/common-issues">Troubleshooting</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/EnviroBotics-Docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorials and Resources</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Transition to Hardware</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Transition to Hardware</h1></header>
<p>After testing and developing your BlueBoat controller in simulation, it’s time to bring your setup into the real world. This page walks you through the essential steps for running your controller node on real hardware, including how to connect to the vehicle, arm it, test the motors, and send waypoint commands.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The process is similar to what you&#x27;ve done in simulation — just with real data and a real boat now.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-the-blueos-interface-on-your-blueboat">Accessing the BlueOS Interface on Your BlueBoat<a href="#accessing-the-blueos-interface-on-your-blueboat" class="hash-link" aria-label="Direct link to Accessing the BlueOS Interface on Your BlueBoat" title="Direct link to Accessing the BlueOS Interface on Your BlueBoat">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-the-connection">Prepare the connection<a href="#prepare-the-connection" class="hash-link" aria-label="Direct link to Prepare the connection" title="Direct link to Prepare the connection">​</a></h3>
<ul>
<li>
<p>Make sure the BlueBoat and BaseStation are powered on and paired.</p>
</li>
<li>
<p>Connect the BaseStation to your computer.</p>
</li>
</ul>
<p>Please also pay attention to the notes and instructions on the official Blue Robotics pages:</p>
<ul>
<li><a href="https://bluerobotics.com/learn/blueboat-software-setup/" target="_blank" rel="noopener noreferrer">BlueBoat Software Setup</a></li>
<li><a href="https://bluerobotics.com/learn/blueboat-operators-guide/" target="_blank" rel="noopener noreferrer">BlueBoat Operator’s Guide</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-the-web-interface">Open the web interface<a href="#open-the-web-interface" class="hash-link" aria-label="Direct link to Open the web interface" title="Direct link to Open the web interface">​</a></h3>
<ul>
<li>
<p>Launch your preferred web browser (Chrome, Firefox, Edge, etc.).</p>
</li>
<li>
<p>In the address bar, type <strong>192.168.2.2</strong> or <strong>blueos.local</strong>.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="welcome-to-blueos">Welcome to BlueOS<a href="#welcome-to-blueos" class="hash-link" aria-label="Direct link to Welcome to BlueOS" title="Direct link to Welcome to BlueOS">​</a></h3>
<ul>
<li>
<p>You will see the BlueOS home screen.</p>
</li>
<li>
<p>If the page does not load, check that the BaseStation is connected and powered, and that your computer is using the correct network.</p>
</li>
<li>
<p>You should see a <strong>Heartbeat</strong> coming in from the vehicle.</p>
</li>
<li>
<p>If no heartbeat is detected, check cables, power supply, and endpoint configuration... or ask.</p>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="control-the-blueboat-via-mavros">Control the BlueBoat via MAVROS<a href="#control-the-blueboat-via-mavros" class="hash-link" aria-label="Direct link to Control the BlueBoat via MAVROS" title="Direct link to Control the BlueBoat via MAVROS">​</a></h2>
<ol>
<li>Once you have access to the BlueOS interface and the BaseStation is connected:</li>
</ol>
<ul>
<li>
<p>Open a terminal on your computer.</p>
</li>
<li>
<p>Start the MAVROS node and connect to the boat using UDP:</p>
</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run mavros mavros_node --ros-args -p fcu_url:=udp://@192.168.2.2:14600 -p system_id:=255 -p component_id:=190 -p tgt_system:=1 -p tgt_component:=1</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Required (but actually already installed - so skippable): MAVROS</p><p>Make sure <code>mavros</code> and related dependencies are installed on your system:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install ros-${ROS_DISTRO}-mavros ros-${ROS_DISTRO}-mavros-extras</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install ros-${ROS_DISTRO}-mavros-msgs</span><br></span></code></pre></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install geographiclib-tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo geographiclib-get-geoids egm96-5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo geographiclib-get-gravity egm2008</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo geographiclib-get-magnetic wmm2020</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div></div></div>
<ul>
<li>If the connection is successful, MAVROS will begin showing messages from the BlueBoat’s autopilot.</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p></p><summary> What is UPD and why do we use UDP?</summary>
What is UDP?<p></p><p>UDP (User Datagram Protocol) is a fast and lightweight network protocol used for sending data between systems on the same network.</p><p>In your project, we use it to connect the MAVROS node (running on your computer) to the ArduPilot firmware (running on the boat) using MAVLink.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-udp-is-used-in-mavlink-communication">Why UDP is used in MAVLink communication<a href="#why-udp-is-used-in-mavlink-communication" class="hash-link" aria-label="Direct link to Why UDP is used in MAVLink communication" title="Direct link to Why UDP is used in MAVLink communication">​</a></h3><p>✅ Low latency — data is sent without delay</p><p>✅ Simple protocol — minimal overhead</p><p>❌ No delivery guarantees — packets may be lost or arrive out of order</p><p>This is acceptable in robotics, where fresh data is more important than guaranteed delivery.</p></div></div></details>
<ol start="2">
<li>(Recommended) Verify the link:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic echo -n 1 /mavros/state</span><br></span></code></pre></div></div>
<ol start="3">
<li>For GUIDED/global setpoints, make sure the boat has a GPS fix (≥2D):</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic echo -n 3 /mavros/global_position/raw/fix</span><br></span></code></pre></div></div>
<p>Latitude/longitude must be non-zero and status.status &gt;= 0.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="option-a--direct-control-rc-override-works-like-the-simulation-powerful-but-not-recommended-for-general-use">Option A — Direct control (RC Override) (works like the simulation; powerful, but not recommended for general use)<a href="#option-a--direct-control-rc-override-works-like-the-simulation-powerful-but-not-recommended-for-general-use" class="hash-link" aria-label="Direct link to Option A — Direct control (RC Override) (works like the simulation; powerful, but not recommended for general use)" title="Direct link to Option A — Direct control (RC Override) (works like the simulation; powerful, but not recommended for general use)">​</a></h2>
<ol>
<li>Arm in MANUAL</li>
</ol>
<p>Before the boat can move, you need to switch it to MANUAL mode and arm it:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 service call /mavros/set_mode mavros_msgs/srv/SetMode &quot;{custom_mode: &#x27;MANUAL&#x27;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 service call /mavros/cmd/arming mavros_msgs/srv/CommandBool &quot;{value: true}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ol start="2">
<li>Quick motor test</li>
</ol>
<p>Move the motors forward</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic pub -r 10 /mavros/rc/override mavros_msgs/msg/OverrideRCIn &quot;{channels: [1600, 0, 1600, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}&quot;</span><br></span></code></pre></div></div>
<p>Stop all motor movement</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic pub -r 10 /mavros/rc/override mavros_msgs/msg/OverrideRCIn &quot;{channels: [1500, 0, 1500, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}&quot;</span><br></span></code></pre></div></div>
<ol start="3">
<li>Run your controller node</li>
</ol>
<p>Make sure the blueboat_control package is installed on your system and sourced via:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source ~/gz_ws/install/setup.bash</span><br></span></code></pre></div></div>
<p>Now launch your real-time controller node for the BlueBoat:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run blueboat_control asv_pid_rc   --ros-args -p arrival_radius_m:=1.5              -p invert_throttle:=false              -p invert_steer:=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ol start="4">
<li>Send a target waypoint to your controller</li>
</ol>
<p>You can now send the boat to a specific location:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic pub --once /asv/target geometry_msgs/msg/Point &quot;{x: 48.28407529304395, y: 11.605825035798238, z: 0.0}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ol start="5">
<li>Emergency stop / resumen</li>
</ol>
<p>If something goes wrong or you want to stop movement immediately, publish a stop signal:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic pub -r 5 /asv/stop std_msgs/msg/Bool &quot;data: true&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>to continue, send:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic pub -r 5 /asv/stop std_msgs/msg/Bool &quot;data: false&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>With RC Override you are bypassing the autopilot regulator. You’re responsible for heading/speed control, failsafes, and tuning.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="option-b--autopilot-guided-mode-recommended">Option B — Autopilot GUIDED mode (recommended)<a href="#option-b--autopilot-guided-mode-recommended" class="hash-link" aria-label="Direct link to Option B — Autopilot GUIDED mode (recommended)" title="Direct link to Option B — Autopilot GUIDED mode (recommended)">​</a></h2>
<ol>
<li>Switch to GUIDED and arm</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 service call /mavros/set_mode mavros_msgs/srv/SetMode &quot;{custom_mode: &#x27;HOLD&#x27;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 service call /mavros/set_mode mavros_msgs/srv/SetMode &quot;{base_mode: 0, custom_mode: &#x27;GUIDED&#x27;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 service call /mavros/cmd/arming mavros_msgs/srv/CommandBool &quot;{value: true}&quot;</span><br></span></code></pre></div></div>
<ol start="2">
<li>Send periodic global position setpoints (2 Hz)</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic pub -r 2 /mavros/setpoint_raw/global mavros_msgs/msg/GlobalPositionTarget \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;{coordinate_frame: 6,  # MAV_FRAME_GLOBAL_INT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type_mask: 0b0000111111111000,  # position-only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  latitude: 48.284812,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  longitude: 11.606132,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  altitude: 0.0}&quot;</span><br></span></code></pre></div></div>
<p>or use, as an example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic pub -r 2 /mavros/setpoint_position/global mavros_msgs/msg/GlobalPositionTarget \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;{latitude: 48.284812, longitude: 11.606132, altitude: 0.0}&quot;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Setpoints must be sent repeatedly (e.g., 2 Hz).</p></div></div>
<p>We will use guided mode later to approach the measuring points on the water.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="temperature-measurement">Temperature measurement<a href="#temperature-measurement" class="hash-link" aria-label="Direct link to Temperature measurement" title="Direct link to Temperature measurement">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calling-the-service">Calling the Service:<a href="#calling-the-service" class="hash-link" aria-label="Direct link to Calling the Service:" title="Direct link to Calling the Service:">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 service call /read_temp std_srvs/srv/Trigger {}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="listen-to-temperature-topic">Listen to /temperature-Topic:<a href="#listen-to-temperature-topic" class="hash-link" aria-label="Direct link to Listen to /temperature-Topic:" title="Direct link to Listen to /temperature-Topic:">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 topic echo /temperature</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If not already done: Switch to continuous publishing - otherwise it&#x27;s a service.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 param set /temperature_sensor_node publish_temperature true</span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-the-winch-system">Use the winch system:<a href="#use-the-winch-system" class="hash-link" aria-label="Direct link to Use the winch system:" title="Direct link to Use the winch system:">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setdepth-action-stepperset_depth">SetDepth Action (/stepper/set_depth):<a href="#setdepth-action-stepperset_depth" class="hash-link" aria-label="Direct link to SetDepth Action (/stepper/set_depth):" title="Direct link to SetDepth Action (/stepper/set_depth):">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 action send_goal /stepper/set_depth stepper_interfaces/action/SetDepth &quot;target_depth_cm: 15&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="receive-the-feedback">Receive the feedback:<a href="#receive-the-feedback" class="hash-link" aria-label="Direct link to Receive the feedback:" title="Direct link to Receive the feedback:">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 action feedback /stepper/set_depth stepper_interfaces/action/SetDepth</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="you-may-need-additional-the-interfaces-please-ask-for-it-and-build-again">You may need additional the interfaces (please ask for it and build again)<a href="#you-may-need-additional-the-interfaces-please-ask-for-it-and-build-again" class="hash-link" aria-label="Direct link to You may need additional the interfaces (please ask for it and build again)" title="Direct link to You may need additional the interfaces (please ask for it and build again)">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --packages-select stepper_interfaces blueboat_guided --merge-install</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="todo-build-your-own-node-eg-temperature_subscriberpy-within-the-blueboat_guided-package">TODO: Build your own node (e.g. temperature_subscriber.py) within the blueboat_guided-package.<a href="#todo-build-your-own-node-eg-temperature_subscriberpy-within-the-blueboat_guided-package" class="hash-link" aria-label="Direct link to TODO: Build your own node (e.g. temperature_subscriber.py) within the blueboat_guided-package." title="Direct link to TODO: Build your own node (e.g. temperature_subscriber.py) within the blueboat_guided-package.">​</a></h3>
<ol>
<li>Save each received temperature message to a .txt file for logging purposes.</li>
<li>In the next step, include the current GPS position along with each temperature entry.</li>
</ol>
<p>You can start with this example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># file: temperature_logger_node.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Basic ROS 2 Node structure (Python)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Imports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Node class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - main() function</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Script entry point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># TODOs show where to add code later (subscribers, callbacks, file handling, etc.)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#!/usr/bin/env python3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">node </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Import message types you’ll use later</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># e.g. from std_msgs.msg import String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">TemperatureLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;A simple ROS2 node that will later subscribe to temperature data</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    and write it to a text file (and later also include GPS).&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Always call the base class constructor first</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;temperature_logger&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># TODO: Create a subscriber for /temperature</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># self.subscription = self.create_subscription(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#     String, &#x27;/temperature&#x27;, self.temperature_callback, 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># )</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># TODO: Open a text file for writing temperature data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># TODO: (Later) Add another subscriber for GPS data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;TemperatureLogger node started.&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ---------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># TODO: Add your callback functions here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># These are called automatically whenever a new message is received.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Example:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># def temperature_callback(self, msg):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     self.get_logger().info(f&#x27;Received temperature: {msg.data}&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ---------------------------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Main entry point for the node.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Initialize the ROS client library</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TemperatureLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Create the node instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic"># Keep it running (wait for messages)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destroy_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic"># Cleanup before shutdown</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shutdown</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic"># Shutdown ROS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># This ensures the node runs when the script is executed directly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>For further help, please take a look here:</p>
<p><a href="https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html" target="_blank" rel="noopener noreferrer">https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html</a></p>
<p>A little helpful tip:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subscription </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_subscription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;/temperature&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temperature_callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">temperature_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;This function is called whenever a new message is received on /temperature.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Received temperature: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">msg</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="start-the-measurement-run">Start the measurement run<a href="#start-the-measurement-run" class="hash-link" aria-label="Direct link to Start the measurement run" title="Direct link to Start the measurement run">​</a></h2>
<p>Please adjust the measuring positions and depths. Please do not place the positions too far away from the BaseStation. Ensure that the last position in your list is (48.284864, 11.606720, 0.0) - Otherwise, we&#x27;ll have trouble getting the boat out of the water =)
Then rebuild the node and source again:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --packages-select stepper_interfaces blueboat_guided --merge-install</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source install/setup.bash</span><br></span></code></pre></div></div>
<p>Run the node:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run blueboat_guided guided_measurement</span><br></span></code></pre></div></div>
<p>This is a brief overview of what happens in this node:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">          +-----------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          |               dist &gt; arrival_radius            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          v                                               |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       NAVIGATE ------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          | dist &lt;= radius (waypoint reached)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       LOWERING --(action rejected/error)--&gt; NAVIGATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          | (SetDepth finished &amp; success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       MEASURING --(temp service response)--&gt; RAISING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          |                             |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          |                             v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          |                     (action rejected/error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          |                             |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          +----------------------------&gt;HOLD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        | (SetDepth success/fail)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      HOLD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        | hold elapsed &amp; more waypoints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     NAVIGATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        | hold elapsed &amp; no waypoints left</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 Mission complete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-each-state-does-and-the-triggers">What each state does (and the triggers)<a href="#what-each-state-does-and-the-triggers" class="hash-link" aria-label="Direct link to What each state does (and the triggers)" title="Direct link to What each state does (and the triggers)">​</a></h3>
<ul>
<li>NAVIGATE</li>
</ul>
<p>Loop behavior: At 5 Hz it always publishes the current target GeoPoseStamped to /mavros/setpoint_position/global (reliable QoS) so GUIDED keeps a fresh setpoint stream.</p>
<p>Transition: When Haversine distance to the active waypoint ≤ 3 m, it switches to LOWERING and sends a SetDepth action goal with target_depth_cm = 20.</p>
<ul>
<li>LOWERING</li>
</ul>
<p>Purpose: Wait for the stepper action (lower winch).</p>
<p>Success → MEASURING.</p>
<p>Failure paths → NAVIGATE: goal rejected, server unavailable, exception, or result not successful.</p>
<ul>
<li>MEASURING</li>
</ul>
<p>One-shot: Guards with a measured flag so it only triggers once per waypoint.</p>
<p>Action: Calls the /read_temp Trigger service and logs the returned temperature if successful.</p>
<p>Next: Regardless of service success/failure, immediately commands RAISING (winch to 0 cm).</p>
<ul>
<li>RAISING</li>
</ul>
<p>Purpose: Lift the winch to surface (SetDepth goal 0).</p>
<p>Next: Whether the action succeeds, fails, or is rejected/unavailable, it proceeds to HOLD (after logging).</p>
<ul>
<li>HOLD</li>
</ul>
<p>Purpose: Stay on station for 10 s while continuing to stream the waypoint setpoint.</p>
<p>Next: After the hold duration:</p>
<p>If more waypoints remain: increment wp_idx, clear the measured flag, go back to NAVIGATE.</p>
<p>If this was the last waypoint: log completion → conceptual FINISHED; subsequent ticks exit early.</p>
<ul>
<li>FINISHED (conceptual)</li>
</ul>
<p>Condition: wp_idx &gt;= len(waypoints). The tick logs “Mission abgeschlossen.” and returns.</p>
<p>Continue refining your system and testing it safely in controlled environments before heading out to the lake.</p>
<p>Next step: Build a control node and a planner node to approach different positions, start measurements at each point, and publish the temperature.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/EnviroBotics-Docs/docs/tutorials/planner node"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating a BlueBoat Planner Node</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/EnviroBotics-Docs/docs/troubleshooting/common-issues"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#accessing-the-blueos-interface-on-your-blueboat" class="table-of-contents__link toc-highlight">Accessing the BlueOS Interface on Your BlueBoat</a><ul><li><a href="#prepare-the-connection" class="table-of-contents__link toc-highlight">Prepare the connection</a></li><li><a href="#open-the-web-interface" class="table-of-contents__link toc-highlight">Open the web interface</a></li><li><a href="#welcome-to-blueos" class="table-of-contents__link toc-highlight">Welcome to BlueOS</a></li></ul></li><li><a href="#control-the-blueboat-via-mavros" class="table-of-contents__link toc-highlight">Control the BlueBoat via MAVROS</a><ul><li><a href="#why-udp-is-used-in-mavlink-communication" class="table-of-contents__link toc-highlight">Why UDP is used in MAVLink communication</a></li></ul></li><li><a href="#option-a--direct-control-rc-override-works-like-the-simulation-powerful-but-not-recommended-for-general-use" class="table-of-contents__link toc-highlight">Option A — Direct control (RC Override) (works like the simulation; powerful, but not recommended for general use)</a></li><li><a href="#option-b--autopilot-guided-mode-recommended" class="table-of-contents__link toc-highlight">Option B — Autopilot GUIDED mode (recommended)</a></li><li><a href="#temperature-measurement" class="table-of-contents__link toc-highlight">Temperature measurement</a><ul><li><a href="#calling-the-service" class="table-of-contents__link toc-highlight">Calling the Service:</a></li><li><a href="#listen-to-temperature-topic" class="table-of-contents__link toc-highlight">Listen to /temperature-Topic:</a></li></ul></li><li><a href="#use-the-winch-system" class="table-of-contents__link toc-highlight">Use the winch system:</a><ul><li><a href="#setdepth-action-stepperset_depth" class="table-of-contents__link toc-highlight">SetDepth Action (/stepper/set_depth):</a></li><li><a href="#receive-the-feedback" class="table-of-contents__link toc-highlight">Receive the feedback:</a></li><li><a href="#you-may-need-additional-the-interfaces-please-ask-for-it-and-build-again" class="table-of-contents__link toc-highlight">You may need additional the interfaces (please ask for it and build again)</a></li><li><a href="#todo-build-your-own-node-eg-temperature_subscriberpy-within-the-blueboat_guided-package" class="table-of-contents__link toc-highlight">TODO: Build your own node (e.g. temperature_subscriber.py) within the blueboat_guided-package.</a></li></ul></li><li><a href="#start-the-measurement-run" class="table-of-contents__link toc-highlight">Start the measurement run</a><ul><li><a href="#what-each-state-does-and-the-triggers" class="table-of-contents__link toc-highlight">What each state does (and the triggers)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/EnviroBotics-Docs/docs/overview and concept/overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/EnviroBotics-Docs/docs/appendix/faq">FAQ</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 EnviroBotics – All rights reserved.</div></div></div></footer></div>
</body>
</html>